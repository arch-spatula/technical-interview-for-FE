# 리액트의 휴리스틱 알고리즘이란 무엇인가?

먼저 휴리스틱스는 인간이 간단한 판단을 하기위한 어림잡기라는 의미입니다. 이 어림잡기를 리액트 알고리즘에 적용하면 랜더링을 효율적으로 처리하기 위해 내부적으로 갖고 있는 어림잡기들이 있습니다. 예를 들어 배칭같은 현상은 최종 state값을 한번에 DOM에 적용하는 동작방식이 해당합니다.

일반적으로 휴리스틱스는 사전적으로 한번에 너무 많은 정보를 고려하기 어려워 그 상황에서 최선의 간편추론법이라고 정의합니다. 저는 더 쉬운 표현인 어림잡기라는 의미로 접근합니다. 이런 어림잡기를 리액트의 DOM 생성 알고리즘에 적용한 것입니다. 어림잡는 것은 리액트가 가장 효율적으로 랜더링할 것을 어림잡을 것입니다. 이 어림잡기의 주체는 페이스북의 리액트 개발팀이고 어림잡을 대상은 리액트의 소비자인 대부분의 프론트엔드 엔지니어가 제어하는 컴포넌트입니다. 리액트가 탄생하기 직전 시대에는 DOM을 직접 조작하는 경우가 많았습니다. 하지만 UI에 변화가 없는데 다시 동일한 계산을 많이 하면서 낭비가 많았었습니다. 리액트 이후에는 DOM의 제어를 엔지니어가 프레임워크에게 위임하고 엔지니어는 가상 DOM으로 간접적으로 제어하고 다시 계산할 필요없는 함수를 실행하지 않으면서 효율을 높였습니다. 리액트 팀은 이 DOM을 조작해서 만드는 UI를 가장 효율적으로 처리하기 위해 일렬의 어림잡기들이 있습니다. 첫째로 부모컴포넌트가 리랜더링되면 자식 컴포넌트가 리랜더링 되는 것이 하나입니다. 다른 하나는 `useState`가 갖고 있는 두번째 배열 원소 setter함수의 실행이 리랜더링을 트리거합니다. 어디까지나 이렇게 리랜더링해야 가장 효율적이라고 가정하고 만든 것이기 때문에 가정에 해당하지 않는 부분은 소비자가 되는 엔지니어가 알아서 처리해야 합니다.

# 배칭

쉬운 질문입니다.

```tsx
import { useState } from "react";
const useTest1 = () => {
  const [value, setValue] = useState(0);
  setValue(value + 1);
  setValue(value + 1);
  setValue(value + 1);

  return value;
};

const useTest2 = () => {
  const [value, setValue] = useState(0);
  setValue((prevNum) => prevNum + 1);
  setValue((prevNum) => prevNum + 1);
  setValue((prevNum) => prevNum + 1);

  return value;
};
```

2개의 커스텀 hook이 있습니다. 각각 어떤 값을 반환하는지 설명하고 왜 그 값을 반환하는지 설명해주시기 바랍니다.

useTest1은 1을 반환합니다. useTest2는 3입니다. 이렇게 동작하는 이유는 배칭과 콜백함수의 참조대상이 원인이 됩니다. 배칭은 리액트가 VDOM으로 로직을 처리하고 몰아서 한번에 실제 DOM으로 랜더링할 때 일부처리를 보류합니다. 그 중에 state를 콜백함수가 아닌 값을 넣을 때 해당합니다. state에 대입할 수있는 값은 원시형인 숫자, 문자열, 불리안 그리고 원시형에서 엄밀하게 예외에 해당하는 null은 괜찮지만 참조형 자료는 콜백함수를 대합하고 기존 state값을 참조하고 있는 콜백함수의 인자를 복사하고 조작하는 방식으로 업데이트합니다. 하지만 콜백함수로 업데이트하는 자료는 배칭의 대상으로 몰아서 처리하지않고 즉시 처리합니다. useTest1은 참조하고 있는 기존 state값도 없기 때문에 `setValue(0+1)`를 3번 한 것입니다. 배칭이 처리가되었을 때 setter함수가 값을 고정시키는데 기존 값을 그대로 두고 있기 때문에 1번만 적용된 것입니다.

# cache time stale time에 대해서 설명해주시기 바랍니다.

# Toast ui의 Viewer가 리랜더링하기 위해서 어떻게 되어야 하나요?

TOAST ui는 비제어 input으로 리랜더링을 트리거하기 위해서는 매번 새로운 인스턴스를 만들어줘야 합니다.

리액트 이전 시대의 라이브러리로 리액트에 적응하는데 한계가 많은 라이브러리입니다. 활용한 자료를 탐색하기는 쉽습니다.

https://github.com/nhn/tui.editor/blob/master/docs/en/viewer.md

## 객체지향 프로그래밍에서 팩토리 패턴에 대해서 설명해주시기 바랍니다.

# CSS in CSS와 CSS in JS의 중요한 차이는 무엇인가요?

# 리액트 포탈은 무엇이고 왜 사용해야 하는가?

# 고차컴포넌트란 무엇인가?

# 클래스 컴포넌트와 함수 컴포넌트는 내부적으로 어떻게 다른가?

문법적인차이는 생략하겠습니다.

# 브라우저 렌더링 과정에 대해 아는 만큼 설명해주실 수 있을까요? 예를 들어 화면에서 DOM이 어떻게 결정되고, CSS는 어떻게 입혀지는지 등을 언급해주시면 좋습니다.

https://tecoble.techcourse.co.kr/post/2021-10-24-browser-rendering/

https://d2.naver.com/helloworld/59361

5단계로 렌더링을 처리합니다. 파싱, 스타일, 레이아웃, 페인트, 컴포짓입니다. 1단계는 HTML 파일과 CSS 파일 파싱입니다. 파싱으로 DOM Tree, CSSOM Tree를 만드는 것으로 시작합니다. 2단계는 스타일입니다. HTML과 CSS를 결합하고 Rendering Tree를 만드는 과정입니다. 3단계는 레이아웃입니다. Rendering Tree에서 각 노드의 위치와 크기를 계산하는 과정입니다. 4단계는 페인트입니다. 렌더 트리의 계산된 값을 이용해 각 노드를 화면상의 실제 픽셀로 변환하고, 레이어를 만드는 과정입니다. 5단계는 컴포짓입니다. 만들어진 레이어들을 합성해 화면상 나타나게 됩니다.

visibility같은 속성이 적용됩니다.

여기 hight, width 같은 element의 크기 값들 픽셀로 변환하고 적용합니다.
